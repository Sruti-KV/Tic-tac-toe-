
:root{
  --sky: #5DA9E9;       
  --brick: #F4A300;      
  --brick-dark: #B55F00; 
  --mario-red: #FF0000;
  --luigi-green: #00B200;
  --coin: #FFD700;
  --cloud: rgba(255,255,255,0.9);
  --glass: rgba(255,255,255,0.06);
  --shadow: 0 6px 18px rgba(0,0,0,0.18);
  --pixel: 6px; 
  --gap: 14px;
  --radius: 8px;
}


*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: 'Press Start 2P', Arial, sans-serif;
  background: linear-gradient(180deg,var(--sky), #9FD3FF 60%);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
  -webkit-font-smoothing:antialiased;
}

.stage{
  width:100%;
  max-width:1000px;
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
  border-radius:16px;
  padding:16px;
  box-shadow:var(--shadow);
}


.hud{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
}
.title{ font-size:14px; display:flex; gap:8px; align-items:center; }
.title span{ font-size:14px; color:#2b2b2b; }
.btn{
  background:linear-gradient(180deg,#fff,#FFE599);
  border:2px solid #B57A00;
  padding:10px 12px;
  border-radius:8px;
  cursor:pointer;
  font-size:10px;
  letter-spacing:1px;
}


.game{ display:flex; gap:var(--gap); align-items:flex-start; }
.panel{
  width:260px;
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92));
  border-radius:12px;
  padding:12px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.06);
}


.scorebox{ display:flex; gap:10px; margin-bottom:12px; }
.player{
  flex:1;
  padding:10px;
  border-radius:8px;
  text-align:center;
  color:#111;
}
.player-mario{ background:linear-gradient(180deg,#FFDADA,#FFB0B0); border:2px solid #FF6B6B; }
.player-luigi{ background:linear-gradient(180deg,#D8FFD8,#A6FFA6); border:2px solid #3ADA3A; }
.label{ font-size:10px; color:#333; margin-bottom:6px; }
.score{ font-size:20px; }


.status{
  margin-top:6px;
  padding:10px;
  border-radius:8px;
  background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.75));
  text-align:center;
  font-size:11px;
}


.board-wrap{
  flex:1;
  position:relative;
  min-height:420px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}
.sky{
  position:absolute;
  inset:10px 40px auto 40px;
  height:120px;
  pointer-events:none;
  background-image:
    radial-gradient(circle at 10% 30%, var(--cloud) 18px, transparent 20px),
    radial-gradient(circle at 40% 10%, var(--cloud) 22px, transparent 24px),
    radial-gradient(circle at 80% 40%, var(--cloud) 16px, transparent 18px);
  opacity:0.95;
  filter: blur(0px);
}


.board{
  width:380px;
  height:380px;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-template-rows:repeat(3,1fr);
  gap:14px;
  padding:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border-radius:12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12) inset;
  position:relative;
}


.cell{
  --block-bg: linear-gradient(180deg, #FFD874, #F4A300);
  background: var(--block-bg);
  border:4px solid var(--brick-dark);
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:34px;
  color:#111;
  cursor:pointer;
  user-select:none;
  position:relative;
  box-shadow: 0 10px 18px rgba(0,0,0,0.18);
  transition: transform 150ms cubic-bezier(.2,.9,.3,1), box-shadow 180ms;
}

.cell::before{
  content:'';
  position:absolute;
  inset:6px;
  background-image:
    linear-gradient(90deg, rgba(0,0,0,0.02) 1px, transparent 1px),
    linear-gradient(0deg, rgba(0,0,0,0.02) 1px, transparent 1px);
  background-size: 12px 12px, 12px 12px;
  pointer-events:none;
  border-radius:6px;
}


.cell:hover{ transform: translateY(-6px); box-shadow: 0 20px 30px rgba(0,0,0,0.22); filter:brightness(1.03); }
.cell:active{ transform: translateY(-2px) scale(0.99); }

.mark {
  font-size:44px;
  font-weight:900;
  letter-spacing:2px;
  text-shadow: 0 2px 0 rgba(0,0,0,0.2);
}
.mark.mario { color: var(--mario-red); text-shadow: 0 3px 0 rgba(0,0,0,0.25); }
.mark.luigi { color: var(--luigi-green); text-shadow: 0 3px 0 rgba(0,0,0,0.25); }

.win {
  animation: winFlash 800ms ease-in-out infinite;
  background: linear-gradient(90deg, #FFF4B1, #FFD700);
  border-color: #B8860B;
}
@keyframes winFlash{
  0% { filter: brightness(1) saturate(1); transform: scale(1); }
  50% { filter: brightness(1.15) saturate(1.2); transform: scale(1.04); }
  100%{ filter: brightness(1) saturate(1); transform: scale(1); }
}


.coin-burst {
  position:absolute;
  width:6px;height:6px;border-radius:2px;
  background:var(--coin);
  box-shadow: 0 1px 0 rgba(0,0,0,0.15);
  animation: burst 600ms ease-out forwards;
}
@keyframes burst{
  to { transform: translateY(-60px) translateX(40px) scale(.2); opacity:0; }
}


.credits{ text-align:center; font-size:10px; margin-top:12px; color:#333; }
.tips{ font-size:10px; color:#666; margin-top:8px; }

/* responsive */
@media (max-width:900px){
  .board{ width:330px; height:330px; gap:12px; padding:12px; }
  .stage{ padding:12px; }
}
@media (max-width:520px){
  .game{ flex-direction:column; align-items:center; }
  .panel{ width:100%; order:2; }
  .board{ width:92vw; height:92vw; gap:10px; padding:10px; }
}
